<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login / Register</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; font-family:'Poppins', sans-serif; }
  body { 
    display:flex; 
    flex-direction:column; 
    justify-content:center; 
    align-items:center; 
    height:100vh; 
    background: linear-gradient(135deg,#bbd9dc,#02cbf3); 
  }
  .container { 
    background:#fff;
    padding:2.5rem 3rem; 
    border-radius:12px;
    box-shadow:0 15px 30px rgba(0,0,0,0.2);
    width:100%;
    max-width:500px;
    text-align:center; 
  }
  h2 { margin-bottom:1.5rem; color:#0b3d91; font-size:2rem; }
  input { 
    width:100%; 
    padding:0.9rem 1rem; 
    margin:0.5rem 0; 
    border-radius:8px; 
    border:1px solid #ccc; 
    outline:none; 
    font-size:1rem; 
    cursor:pointer; 
  }
  input:focus { border-color:#0b3d91; box-shadow:0 0 5px rgba(11,61,145,0.5); }
  button { 
    width:100%; 
    padding:1rem; 
    margin-top:1rem; 
    background:#0b3d91; 
    color:#fff; 
    font-weight:bold; 
    border:none; 
    border-radius:8px; 
    cursor:pointer; 
    font-size:1.1rem; 
    transition:0.3s; 
  }
  button:hover { background:orange; color:#000; }
  .message { margin-top:1rem; font-size:0.95rem; color:red; display:none; }
  .toggle { margin-top:1rem; font-size:0.9rem; color:#555; cursor:pointer; }
  .toggle:hover { text-decoration:underline; }
  img {
    max-width:350px;
    margin-bottom:20px;
    
  }
</style>
</head>
<body>

<!-- Logo/Image -->
<img src="f_img-removebg-preview.png" alt="Logo">

<div class="container">
  <h2 id="formTitle">Login</h2>
  <form id="authForm" autocomplete="off">
    <input type="text" id="username" placeholder="Username" required>
    <input type="password" id="password" placeholder="Password" required>
    <button type="submit" id="submitBtn">Login</button>
  </form>
  <div class="message" id="message"></div>
  <div class="toggle" id="toggleForm">Don't have an account? Register</div>
</div>

<script>
const authForm = document.getElementById('authForm');
const message = document.getElementById('message');
const toggleForm = document.getElementById('toggleForm');
const formTitle = document.getElementById('formTitle');
const submitBtn = document.getElementById('submitBtn');

let isLogin = true; // true = login mode, false = register mode

// Redirect if already logged in
if(localStorage.getItem('isLoggedIn') === 'true'){
  window.location.href = 'index.html';
}

// Toggle login/register
toggleForm.addEventListener('click', () => {
  isLogin = !isLogin;
  formTitle.textContent = isLogin ? 'Login' : 'Register';
  submitBtn.textContent = isLogin ? 'Login' : 'Register';
  toggleForm.textContent = isLogin ? "Don't have an account? Register" : "Already have an account? Login";
  message.style.display = 'none';
});

// Handle login/register
authForm.addEventListener('submit', (e) => {
  e.preventDefault();
  const username = document.getElementById('username').value.trim();
  const password = document.getElementById('password').value.trim();

  let users = JSON.parse(localStorage.getItem('users')) || {};

  if(isLogin){
    // Login
    if(users[username] && users[username] === password){
      localStorage.setItem('isLoggedIn', 'true');
      localStorage.setItem('currentUser', username);
      window.location.href = 'index.html';
    } else {
      message.textContent = 'Invalid credentials!';
      message.style.color = 'red';
      message.style.display = 'block';
    }
  } else {
    // Register
    if(users[username]){
      message.textContent = 'Username already exists!';
      message.style.color = 'red';
      message.style.display = 'block';
    } else {
      users[username] = password;
      localStorage.setItem('users', JSON.stringify(users));
      localStorage.setItem('isLoggedIn', 'true');
      localStorage.setItem('currentUser', username);
      window.location.href = 'index.html';
    }
  }
});
</script>
</body>
</html>
